<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduSmart - Panel Docente</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Poppins:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
    <div class="overlay" id="overlay" onclick="toggleMenu()"></div>

    <nav class="sidebar" id="sidebar">
        <div class="logo-container">
            <i class="fa-solid fa-chalkboard-user logo-icon"></i>
            <span class="logo-text">EduSmart <span
                    style="font-size:0.7rem; color:var(--text-muted); font-weight:400;">Docente</span></span>
        </div>

        <div class="nav-section-label">Gestión Académica</div>
        <ul class="nav-links">
            <li><a href="#" class="active"><i class="fa-solid fa-chart-pie"></i> Vista General</a></li>
            <li><a href="#"><i class="fa-solid fa-users"></i> Mis Grupos</a></li>
            <li><a href="#"><i class="fa-solid fa-pen-to-square"></i> Calificaciones</a></li>
            <li><a href="#"><i class="fa-solid fa-clipboard-check"></i> Asistencias</a></li>
            <li><a href="#"><i class="fa-solid fa-calendar-days"></i> Planificación</a></li>
        </ul>

        <div class="nav-section-label">Comunicaciones</div>
        <ul class="nav-links">
            <li><a href="#"><i class="fa-regular fa-envelope"></i> Mensajes <span
                        style="background:var(--accent-color); color:#111; padding:2px 8px; font-size:11px; font-weight:700; border-radius:10px; margin-left:auto;">5</span></a>
            </li>
            <li><a href="#"><i class="fa-solid fa-bullhorn"></i> Crear Aviso</a></li>
        </ul>

        <div class="nav-section-label">Perfil</div>
        <ul class="nav-links">
            <li><a href="#"><i class="fa-solid fa-gear"></i> Ajustes</a></li>
            <li><a href="#"><i class="fa-solid fa-right-from-bracket"></i> Cerrar Sesión</a></li>
        </ul>

        <div class="sidebar-footer">
            <div class="user-mini">
                <div class="avatar" style="background: linear-gradient(135deg, #3b82f6, #2563eb); color: white;">PR
                </div>
                <div>
                    <h5 style="font-weight:600; color:var(--text-main);">Prof. Ramírez</h5>
                    <p style="font-size:0.8rem; color:var(--text-muted);">Matemáticas</p>
                </div>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <header>
            <div class="header-left">
                <i class="fa-solid fa-bars menu-toggle" onclick="toggleMenu()"></i>
                <div style="display: flex; flex-direction: column; gap: 5px;">
                    <div>
                        <h1>
                            <%= mensaje %>, Profesor Ramírez
                        </h1>
                        <p style="color:var(--text-muted); margin-top: 2px;">Resumen de actividad docente.</p>
                    </div>
                    <% if (esDeNoche) { %>
                        <div class="alert alert-warning">
                            <i class="fa-solid fa-moon"></i>
                            <span>Soporte técnico cerrado.</span>
                        </div>
                        <% } %>
                </div>
            </div>

            <div class="header-actions">
                <div class="search-container">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="text" placeholder="Buscar alumno, grupo...">
                </div>
                <div class="date-badge">
                    <i class="fa-regular fa-calendar"></i> &nbsp; <%= fechaHoy %>
                        <span style="opacity: 0.3; margin: 0 10px;">|</span>
                        <i class="fa-regular fa-clock"></i> &nbsp; <span id="reloj-vivo">
                            <%= horaActual %>
                        </span>
                </div>
            </div>
        </header>

        <div class="stats-grid">
            <div class="card">
                <div class="card-header">
                    <div>
                        <div class="card-value">142</div>
                        <div class="card-label">Alumnos Totales</div>
                    </div>
                    <div class="icon-box bg-blue-light">
                        <i class="fa-solid fa-graduation-cap"></i>
                    </div>
                </div>
                <p style="font-size:0.85rem; margin-top:0.5rem;" class="text-gray">En 4 grupos activos</p>
            </div>

            <div class="card">
                <div class="card-header">
                    <div>
                        <div class="card-value">28</div>
                        <div class="card-label">Por Calificar</div>
                    </div>
                    <div class="icon-box bg-orange-light">
                        <i class="fa-solid fa-file-pen"></i>
                    </div>
                </div>
                <p style="font-size:0.85rem; margin-top:0.5rem;" class="text-purple">
                    <i class="fa-solid fa-circle-exclamation"></i> 5 urgentes
                </p>
            </div>

            <div class="card">
                <div class="card-header">
                    <div>
                        <div class="card-value">8.4</div>
                        <div class="card-label">Promedio Global</div>
                    </div>
                    <div class="icon-box bg-green-light">
                        <i class="fa-solid fa-chart-line"></i>
                    </div>
                </div>
                <p style="font-size:0.85rem; margin-top:0.5rem;" class="text-green">
                    <i class="fa-solid fa-arrow-up"></i> +0.3 vs periodo anterior
                </p>
            </div>

            <div class="card">
                <div class="card-header">
                    <div>
                        <div class="card-value">92%</div>
                        <div class="card-label">Asistencia Hoy</div>
                    </div>
                    <div class="icon-box bg-purple-light">
                        <i class="fa-solid fa-clipboard-user"></i>
                    </div>
                </div>
                <p style="font-size:0.85rem; margin-top:0.5rem;" class="text-gray">
                    3 ausencias justificadas
                </p>
            </div>
        </div>

        <div class="dashboard-grid">
            <div class="left-column">

                <div class="section-header">
                    <h3 class="section-title"><i class="fa-regular fa-clock text-gray"></i> Agenda Docente</h3>
                    <a href="#" class="view-all">Ver calendario</a>
                </div>
                <div class="content-card">
                    <div class="class-item">
                        <div class="time-slot">
                            <span>08:00</span>
                            <span class="time-duration">90 min</span>
                        </div>
                        <div class="class-info">
                            <h4>Matemáticas II - Grupo A</h4>
                            <p>Salón 101 <span style="margin: 0 5px">•</span> 32 Alumnos</p>
                            <span class="class-topic">Tema: Funciones Cuadráticas</span>
                        </div>
                        <div class="status-badge live">
                            <span class="live-dot"></span> En curso
                        </div>
                    </div>
                    <div class="class-item">
                        <div class="time-slot">
                            <span>09:30</span>
                            <span class="time-duration">Libre</span>
                        </div>
                        <div class="class-info">
                            <h4 style="color:var(--text-muted);">Hora de Planeación</h4>
                            <p>Sala de Maestros</p>
                        </div>
                    </div>
                    <div class="class-item">
                        <div class="time-slot">
                            <span>11:00</span>
                            <span class="time-duration">90 min</span>
                        </div>
                        <div class="class-info">
                            <h4>Cálculo Diferencial - Grupo C</h4>
                            <p>Lab B <span style="margin: 0 5px">•</span> 28 Alumnos</p>
                        </div>
                        <span class="tag tag-homework">Recoger Proyectos</span>
                    </div>
                </div>

                <div class="section-header">
                    <h3 class="section-title"><i class="fa-solid fa-chart-simple text-gray"></i> Rendimiento por Grupo
                    </h3>
                </div>
                <div class="content-card">
                    <div class="progress-item">
                        <div class="progress-header">
                            <span style="font-weight:500;">Grupo A - Matemáticas</span>
                            <span class="text-green">Promedio: 8.9</span>
                        </div>
                        <div class="progress-bar-bg">
                            <div class="progress-fill" style="width: 89%; background-color: var(--success-color);">
                            </div>
                        </div>
                    </div>
                    <div class="progress-item">
                        <div class="progress-header">
                            <span style="font-weight:500;">Grupo B - Matemáticas</span>
                            <span class="text-purple">Promedio: 7.4</span>
                        </div>
                        <div class="progress-bar-bg">
                            <div class="progress-fill" style="width: 74%; background-color: var(--purple-color);"></div>
                        </div>
                    </div>
                    <div class="progress-item">
                        <div class="progress-header">
                            <span style="font-weight:500;">Grupo C - Cálculo</span>
                            <span style="color:#fbbf24;">Promedio: 8.1</span>
                        </div>
                        <div class="progress-bar-bg">
                            <div class="progress-fill" style="width: 81%; background-color: #fbbf24;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="right-column">

                <div class="section-header">
                    <h3 class="section-title">
                        <i class="fa-solid fa-inbox text-gray bell-icon"></i> Entregas Recientes
                    </h3>
                </div>
                <div class="content-card">
                    <div class="exam-item">
                        <div class="exam-date-box" style="background:rgba(59, 130, 246, 0.15); color:#60a5fa;">
                            <div class="exam-day"><i class="fa-solid fa-file-pdf"></i></div>
                        </div>
                        <div>
                            <h5 style="font-size:0.9rem; margin-bottom:2px;">Juan Pérez (Gpo A)</h5>
                            <p class="text-gray" style="font-size:0.75rem;">Tarea 3: Ecuaciones.pdf</p>
                            <span style="font-size:0.7rem; color:var(--text-green);">Hace 5 min</span>
                        </div>
                    </div>

                    <div class="exam-item">
                        <div class="exam-date-box" style="background:rgba(59, 130, 246, 0.15); color:#60a5fa;">
                            <div class="exam-day"><i class="fa-solid fa-file-word"></i></div>
                        </div>
                        <div>
                            <h5 style="font-size:0.9rem; margin-bottom:2px;">Maria L. (Gpo C)</h5>
                            <p class="text-gray" style="font-size:0.75rem;">Ensayo Final.docx</p>
                            <span style="font-size:0.7rem; color:var(--text-green);">Hace 20 min</span>
                        </div>
                    </div>

                    <div style="padding:10px; text-align:center;">
                        <a href="#" class="view-all">Ver todas las entregas</a>
                    </div>
                </div>

                <div class="section-header">
                    <h3 class="section-title"><i class="fa-regular fa-bell text-gray"></i> Avisos Admin</h3>
                </div>
                <div class="notices-list">
                    <div class="notice-card urgent">
                        <div class="notice-date">
                            Para Docentes
                            <span style="color:var(--accent-color); font-weight:700;">IMPORTANTE</span>
                        </div>
                        <div class="notice-title">Cierre de Actas</div>
                        <p class="notice-preview">Recuerden subir calificaciones parciales antes del viernes a las
                            23:59.</p>
                    </div>

                    <div class="notice-card" style="border-left-color: var(--primary-color);">
                        <div class="notice-date">Ayer</div>
                        <div class="notice-title">Junta de Academia</div>
                        <p class="notice-preview">Reunión mensual este jueves en la sala de conferencias.</p>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <script>
        function toggleMenu() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
        }


        function actualizarReloj() {
            const relojElemento = document.getElementById('reloj-vivo');
            const ahora = new Date();
            const opciones = { timeZone: 'America/Mexico_City', hour: '2-digit', minute: '2-digit', hour12: true };
            relojElemento.innerText = new Intl.DateTimeFormat('es-MX', opciones).format(ahora);
        }
        setInterval(actualizarReloj, 1000);
        actualizarReloj();
    </script>
</body>

</html>